<!-- Clean Login Form Component with ng-zorro default styles and minimal Tailwind -->
<div class="min-h-screen flex items-center justify-center p-4">
  <div class="w-full max-w-md">
    <nz-card nzTitle="Sign In">
      <form nz-form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <!-- Demo Credentials Section -->
        @if(showDemoCredentials()) {
        <nz-card nzSize="small" nzTitle="Demo Credentials" class="mb-4">
          <ng-template #extra>
            <button nz-button nzType="text" nzSize="small" (click)="toggleDemoCredentials()">
              <span nz-icon nzType="close"></span>
            </button>
          </ng-template>

          <div class="space-y-2">
            <nz-card
              *ngFor="let cred of demoCredentials"
              nzSize="small"
              nzHoverable
              class="cursor-pointer"
              (click)="fillDemoCredentials(cred)"
            >
              <div class="flex justify-between items-center">
                <div>
                  <div class="font-medium">{{ cred.role }}</div>
                  <div class="text-xs">
                    <div>{{ cred.email }}</div>
                    <div>{{ cred.password }}</div>
                  </div>
                </div>
                <span nz-icon nzType="arrow-right"></span>
              </div>
            </nz-card>
          </div>
        </nz-card>
        }

        <!-- Show Demo Button when hidden -->
        @if(!showDemoCredentials()) {
        <button nz-button nzType="dashed" nzSize="small" (click)="toggleDemoCredentials()">
          <span nz-icon nzType="info-circle"></span>
          Show Demo Credentials
        </button>
        }

        <!-- Email Field -->
        <nz-form-item>
          <nz-form-label [nzRequired]="true">Email</nz-form-label>
          <nz-form-control [nzErrorTip]="emailErrorTemplate">
            <nz-input-group nzPrefixIcon="mail">
              <input nz-input formControlName="email" placeholder="Enter your email" type="email" />
            </nz-input-group>
            <ng-template #emailErrorTemplate let-control>
              <ng-container *ngIf="control.hasError('required')"> Email is required </ng-container>
              <ng-container *ngIf="control.hasError('email')">
                Please enter a valid email address
              </ng-container>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <!-- Password Field -->
        <nz-form-item>
          <nz-form-label [nzRequired]="true">Password</nz-form-label>
          <nz-form-control [nzErrorTip]="passwordErrorTemplate">
            <nz-input-group nzPrefixIcon="lock" [nzSuffix]="suffixTemplate">
              <input
                [type]="passwordVisible() ? 'text' : 'password'"
                nz-input
                formControlName="password"
                placeholder="Enter your password"
              />
            </nz-input-group>
            <ng-template #suffixTemplate>
              <span
                nz-icon
                [nzType]="passwordVisible() ? 'eye-invisible' : 'eye'"
                (click)="togglePasswordVisibility()"
                class="cursor-pointer"
              >
              </span>
            </ng-template>
            <ng-template #passwordErrorTemplate let-control>
              <ng-container *ngIf="control.hasError('required')">
                Password is required
              </ng-container>
              <ng-container *ngIf="control.hasError('minlength')">
                Password must be at least 6 characters
              </ng-container>
            </ng-template>
          </nz-form-control>
        </nz-form-item>

        <!-- Remember Me -->
        <nz-form-item>
          <nz-form-control>
            <label nz-checkbox formControlName="rememberMe"> Remember me </label>
          </nz-form-control>
        </nz-form-item>

        <!-- Error Display -->
        <nz-alert
          *ngIf="authError()"
          [nzMessage]="authError()!"
          nzType="error"
          nzShowIcon
          class="mb-4"
        >
        </nz-alert>

        <!-- Submit Button -->
        <nz-form-item>
          <nz-form-control>
            <button
              nz-button
              nzType="primary"
              nzBlock
              [nzLoading]="isLoading()"
              [disabled]="loginForm.invalid"
              type="submit"
            >
              <span *ngIf="!isLoading()">Sign In</span>
              <span *ngIf="isLoading()">Signing In...</span>
            </button>
          </nz-form-control>
        </nz-form-item>

        <!-- Additional Actions -->
        <nz-divider nzText="or"></nz-divider>

        <div class="text-center space-y-2">
          <div>
            <button nz-button nzType="link" (click)="navigateToForgotPassword()">
              Forgot your password?
            </button>
          </div>
          <div>
            <span>Don't have an account? </span>
            <button nz-button nzType="link" (click)="navigateToRegister()">Sign up now</button>
          </div>
        </div>
      </form>
    </nz-card>
  </div>
</div>
